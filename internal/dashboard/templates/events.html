{{template "layout" .}}
{{define "content"}}
<h1>Events</h1>

{{if not .Events}}
<p class="empty">No agent events</p>
{{else}}
<table class="data-table">
  <thead>
    <tr>
      <th></th>
      <th>Source</th>
      <th>Type</th>
      <th>Summary</th>
      <th>Target</th>
      <th>Consumed</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    {{range .Events}}
    <tr class="{{severityClass (print .Spec.Severity)}}">
      <td>{{statusIcon (print .Status.Phase)}}</td>
      <td><a href="/agents/{{.Spec.SourceAgent}}">{{.Spec.SourceAgent}}</a></td>
      <td>{{.Spec.EventType}}</td>
      <td>{{truncate .Spec.Summary 100}}</td>
      <td>{{if .Spec.TargetAgent}}<a href="/agents/{{.Spec.TargetAgent}}">{{.Spec.TargetAgent}}</a>{{else}}â€”{{end}}</td>
      <td>{{len .Status.ConsumedBy}}</td>
      <td>{{timeAgo .CreationTimestamp.Time}}</td>
    </tr>
    {{end}}
  </tbody>
</table>
{{end}}
{{end}}
